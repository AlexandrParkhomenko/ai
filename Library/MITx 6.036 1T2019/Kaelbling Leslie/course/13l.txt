<html><head>
<!-- This page was generated by CAT-SOOP 14.0.0.dev144.  miau. -->
<meta charset="utf-8">
<title>6.036 Spring 2019</title>
<link href="data:image/gif;base64,R0lGODlhEAAQAKEAAAAAAAAzZv///wAAACH5BAEKAAMALAAAAAAQABAAAAIynI85oL3A3IFARFehlcvW3XyaR5XiJ6Tqmo6sOsZoS2viets0XJ+vzCoFXS8Yw4SkDAoAOw==" rel="icon" type="image/gif">
<!-- include catsoop base css -->
<link href="https://introml_oll.odl.mit.edu/cat-soop/_static/_base/themes/base.css" rel="stylesheet" type="text/css">
<!-- librejs compatibility -->
<script>
    /*
    @licstart  The following is the entire license notice for the JavaScript
    code in this page.

    The Javascript on this page is part of CAT-SOOP
    Copyright (C) 2011-2019 by The CAT-SOOP Developers <catsoop-dev@mit.edu>

    The Javascript code on this page is free software: you can redistribute it
    and/or modify it under the terms of the GNU Affero General Public License
    as published by the Free Software Foundation, either version 3 of the
    License, or (at your option) any later version.  This code is distributed
    WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
    or FITNESS FOR A PARTICULAR PURPOSE.  See the full text of the license for
    more details (https://www.gnu.org/licenses/agpl-3.0.en.html).

    As additional permission under GNU AGPL version 3 section 7, you may
    distribute non-source (e.g., minimized or compacted) forms of that code
    without the copy of the GNU AGPL normally required by section 4, provided
    you include this license notice and a URL through which recipients can
    access the Corresponding Source.

    @licend  The above is the entire license notice for the JavaScript code in
    this page.
    */
    </script>
<!-- set up JS namespace for catsoop -->
<script type="text/javascript">
    var catsoop = {plugins: {}};

    function toggleResponsiveHeader(){
        document.getElementsByTagName('header')[0].classList.toggle('responsive');
    }

    document.addEventListener('DOMContentLoaded', function(){
        var menu_boxes = document.getElementsByClassName('dropdown-checkbox');
        for(var i=0; i<menu_boxes.length; i++){
            menu_boxes[i].checked = false;
        }
    });
    </script>
<!-- load in katex and mathjax, and CAT-SOOP-specific math rendering  -->
<script src="https://introml_oll.odl.mit.edu/cat-soop/_static/_base/scripts/katex/katex.min.js" type="text/javascript"></script>
<link href="https://introml_oll.odl.mit.edu/cat-soop/_static/_base/scripts/katex/katex.min.css" rel="stylesheet" type="text/css">
<script src="https://introml_oll.odl.mit.edu/cat-soop/_static/_base/scripts/mathjax/MathJax.js?config=TeX-AMS_CHTML" type="text/javascript"></script>
<script src="https://introml_oll.odl.mit.edu/cat-soop/_static/_base/scripts/cs_math.js" type="text/javascript"></script>
<!-- Syntax Highlighting -->
<script src="https://introml_oll.odl.mit.edu/cat-soop/_static/_base/scripts/highlight/cs_highlight.pack.min.js" type="text/javascript"></script>
<script type="text/javascript">
      hljs.initHighlightingOnLoad();
    </script>
<style>
      :root {
        --cs-base-bg-color: #00bfff;
        --cs-light-bg-color: #32cbff;
        --cs-base-font-color: #ffffff;
        --cs-light-font-color: #000;
    }
    </style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/3.6.3/iframeResizer.contentWindow.min.js" type="text/javascript"></script><link href="/queue/fall18/css/queue.css" rel="stylesheet">
<meta content="width=device-width, initial-scale=1" name="viewport">
<style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1px; bottom: 2px; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover, .MJXp-munder {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > *, .MJXp-munder > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
<body style="margin: 0px;"><div id="MathJax_Message" style="display: none;"></div>
<header id="cs_header" style="display: none;">
<div class="nav-container">
<div class="cs_header_text"><a href="https://introml_oll.odl.mit.edu/cat-soop/6.036"></a></div>
<a class="icon" href="javascript:void(0);" onclick="toggleResponsiveHeader()">☰</a>
</div>
</header>
<main class="cs_body" id="cs_body">
<div class="cs_left_menu"></div>
<div class="cs_content">
<center><h1></h1></center>
<strong>For this lab:</strong>
<ul>
<li>
<p>You will need to understand the material in the notes on
<b><a href="https://openlearninglibrary.mit.edu/courses/course-v1:MITx+6.036+1T2019/courseware/Week13/non_parametric/1">non-parametric methods</a></b>.</p>
</li>
<li>
<p>A code directory that will be useful for doing this lab can be found
<a href="https://introml_oll.odl.mit.edu/cat-soop/_static/6.036/labs/lab13/code_for_lab13.zip"><strong>here</strong></a>.  Download this to your computer.
Alternatively, the code is available in a colab notebook <a href="https://colab.research.google.com/drive/1tgzMEdYj-XVybnyUiSFZUZU257kyWv-0" target="_blank"><strong>here</strong></a>.</p>
</li>
</ul>
<a class="anchor" name="catsoop_section_1"></a><h2>1) Basic operation</h2>
<p>Look at the code directory and open the file <code>non_parametric.py</code>.  You
will see an implementation of the recursive (greedy) decision-tree
building algorithm described in lecture, and an implemention of a
nearest neighbor classifier.</p>
<p>We will be running these algorithms on the 
<a href="https://docs.google.com/spreadsheets/d/1PdCqd-Ek5Fb84i_M_QBCeyJPI0Dsc4fy4pIDXYNoUN4/edit">Auto-MPG dataset</a> that we used
in Lab 3 and HW 3; you should look back at the description on the
Lab 3 and your results from HW 3 to re-familiarize yourself with the data.
In the <code>non_parametric.py</code> file, towards the end is the code from HW 3
that we used to read the data into Numpy matrices.  The one difference
is that we are reading the individual points into the <em>rows</em> of the
matrices rather than the columns as we did before.</p>
<p>Find the place where <code>features</code> are defined.  As before, you
may choose there whether a feature is kept in its <code>raw</code> form,
converted to <code>standard</code> or to <code>one_hot</code>.  Note that the call
</p><pre>auto_data, auto_labels = auto_data_and_labels(auto_data_all, features)
</pre>
<p>will create the data and labels matrices.  Crucially, it will also
print which feature index corresponds to which original feature.  For example:
</p><pre>0 cylinders 3.0 one_hot
1 cylinders 4.0 one_hot
2 cylinders 5.0 one_hot
3 cylinders 6.0 one_hot
4 cylinders 8.0 one_hot
5 displacement std
6 horsepower std
7 weight std
8 acceleration std
9 origin 1.0 one_hot
10 origin 2.0 one_hot
11 origin 3.0 one_hot
</pre>
The first number is the feature index, which plays a prominent role in
the decision-tree construction.  Remember that the one_hot
transformation produces a number of features with values either 0 or 1
corresponding to a discrete value of the original feature, so:
<pre>2 cylinders 5.0 one_hot
</pre>
means that feature index 2 corresponds to 1 when cylinders is equal to
5.0 and 0 otherwise. 
Note that by default we're ignoring model name and model year, as we
discussed in Lab 3.
<p>Two useful functions defined in the file are:</p>
<ul>
<li>
<p><code>auto_test(data, labels, pct=0.25)</code> splits the input data (randomly) into training
  and test sets of fractions <code>1-pct</code> and <code>pct</code>, respectively, and
  runs the decision tree construction algorithm on the training data
  and evaluates the resulting tree on the test set. 
  By default, it prints the tree to depth 5 (see the
  definition of <code>dt_eval</code>) and prints (and returns) the accuracy</p>
</li>
<li>
<p><code>auto_xval(data, labels, k=10)</code> does k-fold cross validation.  It also calls
  <code>dt_eval</code> and print the trees and accuracy. At the end the function
  returns the average accuracy across the runs.</p>
</li>
</ul>
<p>A tree (that corresponds to the feature definitions above) might look like this
(note that <code>n</code> is the number of remaining points in the subtree):
</p><pre> Feat 7 &lt; 0.0476422698221 [ n= 294.0 ]
   Feat 7 &lt; -0.251184192133 [ n= 171.0 ]
     Feat 2 &lt; 0.5 [ n= 142.0 ]
       Feat 8 &lt; -0.940473332238 [ n= 8.0 ]
         =&gt; 1.00 [ n= 4.0 ]
         =&gt; 0.00 [ n= 4.0 ]
       Feat 7 &lt; -0.887737602216 [ n= 134.0 ]
         =&gt; 1.00 [ n= 74.0 ]
         Feat 7 &lt; -0.442150215158 [ n= 60.0 ]
           Feat 8 &lt; 0.837889708284 [ n= 42.0 ]
             Depth &gt; 5
             Depth &gt; 5
           =&gt; 1.00 [ n= 18.0 ]
     Feat 8 &lt; 0.239053174231 [ n= 29.0 ]
       Feat 5 &lt; -0.628541123663 [ n= 17.0 ]
         Feat 5 &lt; -0.853672534932 [ n= 11.0 ]
           =&gt; 0.00 [ n= 4.0 ]
           Feat 6 &lt; 1.35064454164 [ n= 7.0 ]
             Depth &gt; 5
             Depth &gt; 5
         =&gt; 0.00 [ n= 6.0 ]
       Feat 8 &lt; 0.583837845352 [ n= 12.0 ]
         =&gt; 1.00 [ n= 4.0 ]
         Feat 6 &lt; 0.961017160039 [ n= 8.0 ]
           =&gt; 1.00 [ n= 2.0 ]
           Feat 6 &lt; 1.14084518232 [ n= 6.0 ]
             Depth &gt; 5
             Depth &gt; 5
   Feat 8 &lt; 1.54560561217 [ n= 123.0 ]
     Feat 8 &lt; 0.638277530266 [ n= 117.0 ]
       =&gt; 0.00 [ n= 102.0 ]
       Feat 5 &lt; -0.203108971485 [ n= 15.0 ]
         =&gt; 0.00 [ n= 14.0 ]
         =&gt; 1.00 [ n= 1.0 ]
     Feat 8 &lt; 2.36220088587 [ n= 6.0 ]
       Feat 3 &lt; 0.5 [ n= 4.0 ]
         =&gt; 0.00 [ n= 3.0 ]
         =&gt; 1.00 [ n= 1.0 ]
       =&gt; 1.00 [ n= 2.0 ]
</pre>
<p>The printing is done by recursively exploring the tree, printing the
test at a node (<code>Feat i &lt; th [ n= n ]</code> , then going to the left child
(the Yes node) first and then the right child (the No node).  When it
gets to a leaf in the tree, it prints '=&gt; p [ n= n ]', where <span class=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span></span> is the
prediction (probability of positive label).</p>
<p>Make sure that you can read the tree.  Note: Why are some of the
thresholds negative values?</p>
<p><b>1A)</b>
What do the classes that we are trying to predict in this problem mean?
(Review the description in 
<a href="https://openlearninglibrary.mit.edu/courses/course-v1:MITx+6.036+1T2019/courseware/Week3/week3_lab/">Lab 3</a>)</p>
<p><b>1B)</b>
Run a 10-fold cross validation with the one-hot and standardized features.  This will
print 10 trees, each with an accuracy, then an overall accuracy.</p>
<ul>
<li>Look back to Section 4 in <a href="https://openlearninglibrary.mit.edu/courses/course-v1:MITx+6.036+1T2019/courseware/Week3/week3_homework/">HW 3</a>
and find the best accuracy we got with Average Perceptron for those features and compare.</li>
<li>Look at the tests being used at the top layers of the trees; what features are
  the tests splitting on?</li>
<li>Look at the leaves of the trees; what does the float between 0 and 1
  represent? How do you decide what class to output? </li>
</ul>
<p><b>1C)</b>
Uncomment out the small two-feature set in the file and repeat.  Draw the top two layers
of the tree, what do they represent?</p>
<p><b>1D)</b>
Does it change anything if we use <code>raw</code> for origin and/or
standardize weight?  Explain.</p>
<p><b>1E)</b>
When might we want to use a decision tree classifier as opposed
to an averaged perceptron or neural net classifier?</p>
<p>
<!--START question Q1 -->
</p><div class="question question-multiplechoice" id="cs_qdiv_Q1" style="position: static">
<div id="Q1_rendered_question">
<table border="0">
<tbody><tr><td align="center"><input name="Q1_opt0" type="checkbox" value="0"></td><td>Check this box and submit when you have finished all parts of this question.</td></tr>
</tbody></table><input id="Q1" name="Q1" type="hidden" value="{}">
<script type="text/javascript">
var Q1_selected = {};
document.getElementById("Q1").value = JSON.stringify(Q1_selected);
document.querySelectorAll("input[type=checkbox][name^=Q1_opt]").forEach(function(r){
    r.addEventListener("click", function(){
        Q1_selected[this.getAttribute("name")] = this.checked;
    document.getElementById("Q1").value = JSON.stringify(Q1_selected);
    });
});
</script>
</div><div>
<span id="Q1_buttons">
<button class="submit btn btn-catsoop" id="Q1_submit" onclick="catsoop.submit('Q1');" style="margin-top: 10px;">Submit</button>
<button class="viewanswer btn btn-catsoop" id="Q1_viewanswer" onclick="catsoop.viewanswer('Q1');" style="margin-top: 10px;">View Answer</button></span><span id="Q1_queue_buttons"> <button class="btn btn-catsoop" onclick="!queue.get('location') ?
catsoop.modal(
    &quot;Enter Table Number&quot;,
    &quot;Please enter your table number:&quot;,
    true,
    true).then(function(text) {
        queue.set('location', text);
        queue.add('help', {
  location: queue.get('location'),
  assignment: {
    name: 'Q1',
    page: catsoop.this_path,
    path: catsoop.path_info,
    display_name: 'Tutor Question 1 in Section 1',
  },
})

        queue.set('_visible', true);
    }) : (queue.add('help', {
  location: queue.get('location'),
  assignment: {
    name: 'Q1',
    page: catsoop.this_path,
    path: catsoop.path_info,
    display_name: 'Tutor Question 1 in Section 1',
  },
})
, queue.set('_visible', true))" style="margin-top: 10px;">Ask for Help</button></span>
<span id="Q1_loading_wrapper">
<span id="Q1_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="></span>
</span>
<span id="Q1_score_display"></span>
<div class="nsubmits_left" id="Q1_nsubmits_left"><i>You have infinitely many submissions remaining.</i></div></div>
<div id="Q1_solution_container">
<div id="Q1_solution">
</div>
<div id="Q1_solution_explanation">
</div>
</div>
<div id="Q1_message"></div>
</div>
<!--END question Q1 -->
<a class="anchor" name="catsoop_section_2"></a><h2>2) Parameter Tuning</h2>
<p>Note the three variables defined as class variables at the top of the
definition of the class <code>DTN</code> in the code file.</p>
<ul>
<li><code>N_THRESHOLD = 4 # don't split if node has fewer examples than this</code></li>
<li><code>H_THRESHOLD = .01 # don't split if node has entropy less than this</code></li>
<li><code>H_REDUCTION_THRESHOLD = .001 # don't split if it doesn't reduce entropy by this</code></li>
</ul>
<p><b>2A)</b>
By changing these parameters, theoretically what is the minimum training error you could get? 
Is this a good thing?</p>
<p><b>2B)</b>
From a learning algorithm perspective, what is the purpose of these values?</p>
<p><b>2C)</b>
Try changing these values, for example <code>N_THRESHOLD</code> over [1, 2, 4], <code>H_THRESHOLD</code>
over [.01, .1, .25] and <code>H_REDUCTION_THRESHOLD</code> over [.001, .01, .1]. Note 
the effect on the accuracy of 10-fold cross-validation and on the result trees. To
expedite the process, you can use the <code>config</code> input variable to <code>auto_xval</code> to change
the values, so for example you can set <code>config = [4, .01, .001]</code> to run <code>auto_xval</code> using
the default values. Be prepared to explain your findings.
How big are the trees on average with the lowest values of the parameters vs the
highest values of the parameters?</p>
<p>You can set <code>verbose='first_tree'</code> to output only the first tree.</p>
<p><b>2D)</b>
Could you change these parameters such that no splits occur? If so, how?</p>
<p>
<!--START question Q2 -->
</p><div class="question question-multiplechoice" id="cs_qdiv_Q2" style="position: static">
<div id="Q2_rendered_question">
<table border="0">
<tbody><tr><td align="center"><input name="Q2_opt0" type="checkbox" value="0"></td><td>Check this box and submit when you have finished all parts of this question.</td></tr>
</tbody></table><input id="Q2" name="Q2" type="hidden" value="{}">
<script type="text/javascript">
var Q2_selected = {};
document.getElementById("Q2").value = JSON.stringify(Q2_selected);
document.querySelectorAll("input[type=checkbox][name^=Q2_opt]").forEach(function(r){
    r.addEventListener("click", function(){
        Q2_selected[this.getAttribute("name")] = this.checked;
    document.getElementById("Q2").value = JSON.stringify(Q2_selected);
    });
});
</script>
</div><div>
<span id="Q2_buttons">
<button class="submit btn btn-catsoop" id="Q2_submit" onclick="catsoop.submit('Q2');" style="margin-top: 10px;">Submit</button>
<button class="viewanswer btn btn-catsoop" id="Q2_viewanswer" onclick="catsoop.viewanswer('Q2');" style="margin-top: 10px;">View Answer</button></span><span id="Q2_queue_buttons"> <button class="btn btn-catsoop" onclick="!queue.get('location') ?
catsoop.modal(
    &quot;Enter Table Number&quot;,
    &quot;Please enter your table number:&quot;,
    true,
    true).then(function(text) {
        queue.set('location', text);
        queue.add('help', {
  location: queue.get('location'),
  assignment: {
    name: 'Q2',
    page: catsoop.this_path,
    path: catsoop.path_info,
    display_name: 'Tutor Question 1 in Section 2',
  },
})

        queue.set('_visible', true);
    }) : (queue.add('help', {
  location: queue.get('location'),
  assignment: {
    name: 'Q2',
    page: catsoop.this_path,
    path: catsoop.path_info,
    display_name: 'Tutor Question 1 in Section 2',
  },
})
, queue.set('_visible', true))" style="margin-top: 10px;">Ask for Help</button></span>
<span id="Q2_loading_wrapper">
<span id="Q2_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="></span>
</span>
<span id="Q2_score_display"></span>
<div class="nsubmits_left" id="Q2_nsubmits_left"><i>You have infinitely many submissions remaining.</i></div></div>
<div id="Q2_solution_container">
<div id="Q2_solution">
</div>
<div id="Q2_solution_explanation">
</div>
</div>
<div id="Q2_message"></div>
</div>
<!--END question Q2 -->
<a class="anchor" name="catsoop_section_3"></a><h2>3) Nearest Neighbors</h2>
<p>We can set the <code>decision_tree</code> parameter in <code>auto_xval</code> to <code>False</code> in order to
run a 1-nearest neighbor model instead.</p>
<p><b>3A)</b>
Run 10-fold cross validation using 1-nearest neighbors and record the
accuracy.</p>
<p><b>3B)</b>
Repeat using the small two-feature sets from 1C and 1D. How does using the
unprocessed <code>raw</code> features from 1D compare to the processed features from 1C?</p>
<p><b>3C)</b>
We can run k-nearest neighbors by setting the <code>config</code> parameter to desired
value of k. Note that this is different from the <code>k</code> parameter, which describes
the number of folds in cross-validation. Choosing odd values of k is preferred,
to avoid ties in choosing the majority classification. </p>
<p>Can you get a higher cross validation accuracy on the first feature set using a
different value of k? If so, what k did you use and what accuracy does it achieve?</p>
<p><script src="/queue/fall18/js/queue.js"></script>
<script>
    catsoop.plugins.queue = {
        url_root: '/queue/fall18/',
        is_staff: false,
        container: "body",
        view: 'student_popup',
        room: 'default',
    };
    </script>
<script src="https://introml_oll.odl.mit.edu/cat-soop/_static/_handler/default/cs_ajax.js" type="text/javascript"></script>
<script type="text/javascript">
catsoop.all_questions = ['Q1', 'Q2'];
catsoop.username = 'AlexandrParkhomenko';
catsoop.api_token = 'ou3PvadLMR1zwQVIhEQLlWt6elMqlxph2gVU1xhXjyyRUXW4QMJ8O3E5H1HxxhLq0PFguf';
catsoop.this_path = 'https://introml_oll.odl.mit.edu/cat-soop/6.036/labs/lab13';
catsoop.path_info = ['6.036', 'labs', 'lab13'];
catsoop.course = '6.036';
catsoop.url_root = 'https://introml_oll.odl.mit.edu/cat-soop';
catsoop.imp = '';
catsoop.skip_alert = [];
catsoop.viewans_confirm = "Are you sure?  Viewing the answer will prevent any further submissions to this question.  Press 'OK' to view the answer, or press 'Cancel' if you have changed your mind.";
</script></p>
</div>
<div class="cs_right_menu"></div>
</main>
<footer>
      This page was last updated on Monday February 17, 2020 at 08:51:47 PM (revision <code>2e80dd4</code>).<br>&nbsp;<br>Sec None Release 1900-01-01 00:00:00 Due 9999-12-31 23:59:59<br><script type="text/javascript">document.getElementById("cs_header").style.display="none";</script>
<pre class="catsooplogo" style="font-size:50%;">\            
/    /\__/\  
\__=(  o_O )=
(__________) 
 |_ |_ |_ |_ </pre>
      Powered by <a href="https://catsoop.mit.edu" target="_blank">CAT-SOOP</a> v14.0.0.dev144.<br>
      CAT-SOOP is <a href="http://www.fsf.org/about/what-is-free-software" target="_blank">free/libre software</a>, available under the terms<br>of the <a href="https://introml_oll.odl.mit.edu/cat-soop/_util/license" target="_blank">GNU Affero General Public License, version 3</a>.<br>
<a download="" href="https://introml_oll.odl.mit.edu/cat-soop/_util/source.zip?course=6.036" target="_blank">Download Source Code</a><br>
<a href="https://introml_oll.odl.mit.edu/cat-soop/_util/jslicense.html" rel="jslicense" target="_blank">Javascript License Information</a>
</footer>



<div style="clear: both; display: block;"></div></body></html>


